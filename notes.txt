To produce a valid ppm file in windows I had to write:

```
.\main.exe | set-content image2.ppm -encoding String
```

The standard works in Linux

```
a.out > image.ppm
```